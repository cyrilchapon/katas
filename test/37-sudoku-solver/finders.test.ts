import { expect } from 'earljs'

import {
  Board,
  BoardCandidates,
  findHiddenSinglesCandidates,
  findHiddenPairsCandidates
} from '../../src/37-sudoku-solver'

describe('SudokuSolver', () => {
  describe('Finders', () => {
    describe('findHiddenSingleCandidates', () => {
      it('should return consistent', () => {
        const input = [
          [['1', '2'], ['1', '2'], [], [], [], [], [], [], []],
          [['2'], ['2'], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], ['1'], [], [], [], [], [], [], []]
        ]

        const actual = findHiddenSinglesCandidates(input)
        const expected = [
          [['1'], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], ['1'], [], [], [], [], [], [], []]
        ]

        expect(actual).toEqual(expected)
      })
    })

    describe('findHiddenPairsCandidates', () => {
      it('should return consistent', () => {
        const input = [
          [['1', '2', '3'], ['1', '2'], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], ['6', '8', '4']],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], ['3', '9', '7'], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], ['9', '7', '2'], [], [], []],
          [[], [], [], [], [], [], [], [], []],
          [[], [], [], [], [], [], [], [], ['2', '5', '6', '8']],
          [[], [], [], [], [], [], [], [], []]
        ]

        const actual = findHiddenPairsCandidates(input)
        const expected = {
          row: [
            [['1', '2'], ['1', '2'], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []]
          ],
          col: [
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], ['6', '8'], [], [], [], [], [], ['6', '8'], []]
          ],
          square: [
            [['1', '2'], ['1', '2'], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [['9', '7'], [], [], [], [], [], [], [], ['9', '7']],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []],
            [[], [], [], [], [], [], [], [], []]
          ]
        }

        expect(actual.row).toEqual(expected.row)
        expect(actual.col).toEqual(expected.col)
        expect(actual.square).toEqual(expected.square)
      })
    })
  })
})